diff --git a/zookeeper-server/src/main/java/org/apache/zookeeper/server/util/MessageTracker.java b/zookeeper-server/src/main/java/org/apache/zookeeper/server/util/MessageTracker.java
index 91952cad..d8d235bb 100644
--- a/zookeeper-server/src/main/java/org/apache/zookeeper/server/util/MessageTracker.java
+++ b/zookeeper-server/src/main/java/org/apache/zookeeper/server/util/MessageTracker.java
@@ -119,19 +119,18 @@ private static void logMessages(
     }
 
     private static void verifyIPv6(String serverAddr) {
-        int maxColons = 8;
+        int maxColons = 7;
         int cntColons = 0;
         int i = serverAddr.indexOf(':');
-        while (i > -1 && i < serverAddr.length() && cntColons < maxColons) {
+        while (i > -1 && i < serverAddr.length()) {
             cntColons++;
             i = serverAddr.indexOf(':', i + 1);
         }
-        //is there an extra?
-        int extraColons = countExtraColons(i, serverAddr);
-        //count extras
-        if (cntColons > 0 && (cntColons < maxColons || extraColons == 0)) {
+        if (cntColons > 0 && cntColons <= maxColons) {
             return;
         }
+        int extraColons = cntColons - maxColons;
+
         throw new IllegalArgumentException("bad ipv6: " + serverAddr + " too many colons=" + extraColons);
     }
 
